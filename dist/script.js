(()=>{"use strict";window.addEventListener("load",(()=>{document.querySelectorAll(".n-name__value").forEach((e=>{"American"==e.value&&e.setAttribute("selected","selected")})),document.querySelectorAll(".d-name__value").forEach((e=>{"21"==e.value&&e.setAttribute("selected","selected")})),document.querySelectorAll(".m-name__value").forEach((e=>{"December"==e.value&&e.setAttribute("selected","selected")})),document.querySelectorAll(".y-name__value").forEach((e=>{"1995"==e.value&&e.setAttribute("selected","selected")}))})),(()=>{const e=document.querySelector(".box__p-name"),t=document.querySelector(".box__c-name"),r=document.querySelector(".box__p-line"),l=document.querySelector(".box__c-line"),c=document.querySelector(".message__text"),s=(e,t)=>{e.value.match(/[a-z]/g)&&e.value.match(/[A-Z]/g)&&e.value.match(/[0-9]/g)&&e.value.length>=8?(t.classList.remove("line-error"),c.classList.remove("message-error")):(t.classList.add("line-error"),c.classList.add("message-error"))};e.addEventListener("input",(()=>{s(e,r),""==!t.value&&(t.value==e.value?l.classList.remove("line-error"):l.classList.add("line-error"))})),t.addEventListener("input",(()=>{s(t,l),""==!e.value&&(e.value==t.value?l.classList.remove("line-error"):l.classList.add("line-error"))}))})(),(()=>{const e=document.querySelector(".box__p-name"),t=document.querySelector(".box__c-name");e.addEventListener("click",(e=>{e.currentTarget.value="",t.value=""})),t.addEventListener("click",(e=>{e.currentTarget.value=""}))})(),(()=>{const e=document.querySelectorAll(".arrow"),t=[document.querySelector(".box__n-name"),document.querySelector(".select__d-name"),document.querySelector(".select__m-name"),document.querySelector(".select__y-name")];for(let e of t)e.addEventListener("click",(t=>{t.stopPropagation(),e.nextElementSibling.classList.toggle("arrow-active")}));document.querySelector("body").addEventListener("click",(()=>{for(let t of e)t.classList.contains("arrow-active")&&t.classList.remove("arrow-active")}))})(),(()=>{const e=document.querySelector(".main__form"),t=document.querySelector(".complete__button"),r=document.querySelector(".box__e-name"),l=document.querySelector(".box__e-line"),c=document.querySelector(".box__e-check"),s=document.querySelector(".box__f-name"),a=document.querySelector(".box__l-name"),n=document.querySelector(".box__f-line"),o=document.querySelector(".box__l-line"),u=document.querySelector(".box__p-name"),i=document.querySelector(".box__c-name"),d=document.querySelector(".box__p-line"),m=document.querySelector(".box__c-line"),_=document.querySelector(".message__text"),v=(e,t)=>{0===e.value.length?t.classList.add("line-error"):t.classList.remove("line-error")},y=e=>{0===s.value.length||0===a.value.length||!r.validity.valid||u.value!==i.value&&0===u.value.length||0===i.value.length?(e.preventDefault(),(()=>{const e=document.querySelector(".submit__complete");e.classList.add("shake-x"),setTimeout((()=>e.classList.remove("shake-x")),1e3)})(),d.classList.add("line-error"),m.classList.add("line-error"),_.classList.add("message-error")):(e.preventDefault(),(()=>{const e=document.querySelector(".main__form"),t=document.querySelector(".main__title");(async()=>{const r=await fetch("./assets/server-ok.json").then((e=>e.json())).then((e=>e)).catch((()=>{throw new Error("Bad response")}));e.remove(),t.insertAdjacentHTML("afterEnd",`\n\t\t\t\t<main class="main__request">\n\t\t\t\t\t<p class="request__title">${r.request__title}</p>\n\t\t\t\t\t<span class="request__text">${r.request__description}</span>\n\t\t\t\t\t<p class="request__login">${r.request__login}\n\t\t\t\t\t\t<a href="#" class="login__href">${r.login__href}</a>\n\t\t\t\t\t</p>\n\t\t\t\t</main>\n\t\t\t`)})()})())};s.addEventListener("input",(e=>{v(e.currentTarget,n)})),a.addEventListener("input",(e=>{v(e.currentTarget,o)})),r.addEventListener("input",(e=>{r.validity.valid?(l.classList.remove("line-error"),c.classList.add("check-true")):(r.validity.valueMissing&&(l.classList.add("line-error"),c.classList.remove("check-true")),r.validity.typeMismatch&&(l.classList.add("line-error"),c.classList.remove("check-true")),r.validity.tooShort&&(l.classList.add("line-error"),c.classList.remove("check-true")))})),e.addEventListener("submit",(e=>{y(e)})),t.addEventListener("click",(e=>{y(e)})),window.addEventListener("load",(()=>{""!==r.value&&c.classList.add("check-true")}))})()})();